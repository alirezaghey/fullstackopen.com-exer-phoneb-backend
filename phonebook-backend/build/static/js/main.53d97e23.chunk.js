(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,n,t){e.exports=t(40)},21:function(e,n,t){},39:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(13),u=t.n(o),c=(t(21),t(14)),i=t(2),l=function(e){var n=e.filter,t=e.handleFilterChange;return r.a.createElement("input",{value:n,onChange:t})},m=function(e){var n=e.handleSubmit,t=e.handleNameChange,a=e.handlePhoneChange,o=e.newName,u=e.newPhone;return r.a.createElement("form",{onSubmit:n},r.a.createElement("div",null,"name: ",r.a.createElement("input",{onChange:t,value:o,placeholder:"Person Name"})),r.a.createElement("div",null,"phone: ",r.a.createElement("input",{onChange:a,value:u,placeholder:"Phone Number"})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},h=function(e){var n=e.person,t=e.handleDelete;return r.a.createElement("div",null,n.name,": ",n.number," ",r.a.createElement("button",{onClick:function(){return t(n.id)}},"Delete"))},s=function(e){var n=e.persons,t=e.handleDelete;return n.map(function(e){return r.a.createElement(h,{person:e,key:e.id,handleDelete:t})})},f=t(3),d=t.n(f),b=(Object({NODE_ENV:"production",PUBLIC_URL:""}).host||"http://localhost:3001")+"/api/persons",p=function(){return d.a.get(b).then(function(e){return e.data})},w=function(e){return d.a.post(b,e).then(function(e){return e.data})},E=function(e,n){return d.a.put("".concat(b,"/").concat(e),n).then(function(e){return e.data})},v=function(e){return d.a.delete("".concat(b,"/").concat(e)).then(function(e){return e})},g=(t(39),function(e){var n=e.message;return n?r.a.createElement("div",{className:"notification"},n):null}),C=function(){var e=Object(a.useState)([]),n=Object(i.a)(e,2),t=n[0],o=n[1],u=Object(a.useState)(""),h=Object(i.a)(u,2),f=h[0],d=h[1],b=Object(a.useState)(""),C=Object(i.a)(b,2),L=C[0],O=C[1],j=Object(a.useState)(""),N=Object(i.a)(j,2),P=N[0],k=N[1],S=Object(a.useState)(""),D=Object(i.a)(S,2),y=D[0],T=D[1];Object(a.useEffect)(function(){p().then(function(e){return o(e)})},[]);var U=""===P?t:t.filter(function(e){return e.name.toLocaleLowerCase().startsWith(P.toLocaleLowerCase())});return r.a.createElement("div",null,r.a.createElement(g,{message:y}),r.a.createElement("h1",null,"Phonebook"),r.a.createElement(l,{filter:P,handleFilterChange:function(e){return k(e.target.value)}}),r.a.createElement("h2",null,"Add new"),r.a.createElement(m,{handleNameChange:function(e){return d(e.target.value)},handleSubmit:function(e){if(e.preventDefault(),t.some(function(e){return e.name.toLocaleLowerCase()===f.toLocaleLowerCase()})){if(window.confirm("".concat(f," is already in the phonebook! Update it?"))){var n=t.find(function(e){return e.name.toLocaleLowerCase()===f.toLocaleLowerCase()});E(n.id,Object(c.a)({},n,{number:L})).then(function(e){o(t.map(function(t){return t.id!==n.id?t:e})),d(""),O(""),T("".concat(e.name,"'s number was changed to ").concat(e.number,"!")),setTimeout(function(){return T("")},5e3)})}}else w({name:f,number:L}).then(function(e){o(t.concat(e)),d(""),O(""),T("".concat(e.name," with the number ").concat(e.number," was added to the phonebook!")),setTimeout(function(){return T("")},5e3)})},handlePhoneChange:function(e){return O(e.target.value)},newName:f,newPhone:L}),r.a.createElement("h2",null,"Numbers"),r.a.createElement(s,{persons:U,handleDelete:function(e){v(e).then(function(n){200===n.status&&(p().then(function(e){return o(e)}),T("Person with id ".concat(e," has been removed from the phonebook!")),setTimeout(function(){return T("")},5e3))}).catch(function(n){p().then(function(e){return o(e)}),T("Person with id ".concat(e," was already removed from the phonebook!")),setTimeout(function(){return T("")},5e3)})}}))};u.a.render(r.a.createElement(C,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.53d97e23.chunk.js.map