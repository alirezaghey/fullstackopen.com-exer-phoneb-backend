{"version":3,"sources":["Filter.js","PersonForm.js","Number.js","Numbers.js","Services/Numbers.js","Notification/Notification.js","App.js","index.js"],"names":["Filter","_ref","filter","handleFilterChange","react_default","a","createElement","value","onChange","PersonForm","handleSubmit","handleNameChange","handlePhoneChange","newName","newPhone","onSubmit","placeholder","type","Number","person","handleDelete","name","number","onClick","id","Numbers","persons","map","src_Number","key","baseURL","process","host","Services_Numbers","axios","get","then","res","data","newNumber","post","put","concat","delete","Notification","message","className","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewPhone","_useState7","_useState8","setFilter","_useState9","_useState10","notification","setNotification","useEffect","NumbersService","numbers","filteredPersons","toLocaleLowerCase","startsWith","src_Notification_Notification","src_Filter","event","target","src_PersonForm","preventDefault","some","window","confirm","updatedPerson","find","p","objectSpread","setTimeout","src_Numbers","status","catch","ReactDOM","render","src_App","document","getElementById"],"mappings":"0OAQeA,EANA,SAAAC,GAAkC,IAAhCC,EAAgCD,EAAhCC,OAAQC,EAAwBF,EAAxBE,mBACrB,OACIC,EAAAC,EAAAC,cAAA,SAAOC,MAAOL,EAAQM,SAAUL,KCczBM,EAhBI,SAAAR,GAA4E,IAA1ES,EAA0ET,EAA1ES,aAAcC,EAA4DV,EAA5DU,iBAAkBC,EAA0CX,EAA1CW,kBAAmBC,EAAuBZ,EAAvBY,QAASC,EAAcb,EAAda,SAC7E,OACIV,EAAAC,EAAAC,cAAA,QAAMS,SAAUL,GAChBN,EAAAC,EAAAC,cAAA,oBACQF,EAAAC,EAAAC,cAAA,SAAOE,SAAUG,EAAkBJ,MAAOM,EAASG,YAAY,iBAEvEZ,EAAAC,EAAAC,cAAA,qBACSF,EAAAC,EAAAC,cAAA,SAAOE,SAAUI,EAAmBL,MAAOO,EAAUE,YAAY,kBAE1EZ,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UAAQW,KAAK,UAAb,UCFKC,EARA,SAAAjB,GAA4B,IAA1BkB,EAA0BlB,EAA1BkB,OAAQC,EAAkBnB,EAAlBmB,aACrB,OACIhB,EAAAC,EAAAC,cAAA,WACKa,EAAOE,KADZ,KACoBF,EAAOG,OAD3B,IACmClB,EAAAC,EAAAC,cAAA,UAAQiB,QAAS,kBAAMH,EAAaD,EAAOK,MAA3C,YCI5BC,EANC,SAAAxB,GAA6B,IAA3ByB,EAA2BzB,EAA3ByB,QAASN,EAAkBnB,EAAlBmB,aACvB,OACIM,EAAQC,IAAI,SAAAR,GAAM,OAAIf,EAAAC,EAAAC,cAACsB,EAAD,CAAQT,OAAQA,EAAQU,IAAKV,EAAOK,GAAIJ,aAAcA,uBCJ9EU,GAAWC,8CAAYC,MAAQ,yBAA2B,eAsBjDC,EApBA,WAEX,OADgBC,IAAMC,IAAIL,GACXM,KAAK,SAAAC,GAAG,OAAIA,EAAIC,QAkBpBL,EAfA,SAAAM,GAEX,OADgBL,IAAMM,KAAKV,EAASS,GACrBH,KAAK,SAAAC,GAAG,OAAIA,EAAIC,QAapBL,EAVA,SAACT,EAAIe,GAEhB,OADgBL,IAAMO,IAAN,GAAAC,OAAaZ,EAAb,KAAAY,OAAwBlB,GAAMe,GAC/BH,KAAK,SAAAC,GAAG,OAAIA,EAAIC,QAQpBL,EALA,SAAAT,GAEX,OADgBU,IAAMS,OAAN,GAAAD,OAAgBZ,EAAhB,KAAAY,OAA2BlB,IAC5BY,KAAK,SAAAC,GAAG,OAAIA,KCPhBO,SAVM,SAAA3C,GAAe,IAAb4C,EAAa5C,EAAb4C,QACnB,OAAIA,EAGAzC,EAAAC,EAAAC,cAAA,OAAKwC,UAAU,gBACVD,GAHE,OC2FAE,EAzFH,WAAM,IAAAC,EACeC,mBAAS,IADxBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACRtB,EADQwB,EAAA,GACCG,EADDH,EAAA,GAAAI,EAEcL,mBAAS,IAFvBM,EAAAJ,OAAAC,EAAA,EAAAD,CAAAG,EAAA,GAETzC,EAFS0C,EAAA,GAEAC,EAFAD,EAAA,GAAAE,EAGgBR,mBAAS,IAHzBS,EAAAP,OAAAC,EAAA,EAAAD,CAAAM,EAAA,GAGT3C,EAHS4C,EAAA,GAGCC,EAHDD,EAAA,GAAAE,EAIYX,mBAAS,IAJrBY,EAAAV,OAAAC,EAAA,EAAAD,CAAAS,EAAA,GAIT1D,EAJS2D,EAAA,GAIDC,EAJCD,EAAA,GAAAE,EAKwBd,mBAAS,IALjCe,EAAAb,OAAAC,EAAA,EAAAD,CAAAY,EAAA,GAKTE,EALSD,EAAA,GAKKE,EALLF,EAAA,GAOhBG,oBAAW,WACTC,IAEGhC,KAAK,SAAAiC,GAAO,OAAIhB,EAAWgB,MAC7B,IAEH,IAAMC,EAA6B,KAAXpE,EAAgBwB,EACtCA,EAAQxB,OAAO,SAAAiB,GAAM,OAAIA,EAAOE,KAAKkD,oBAAoBC,WAAWtE,EAAOqE,uBAuD7E,OACEnE,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACmE,EAAD,CAAc5B,QAASoB,IACvB7D,EAAAC,EAAAC,cAAA,uBAEAF,EAAAC,EAAAC,cAACoE,EAAD,CAAQxE,OAAQA,EAAQC,mBAzDD,SAAAwE,GAAK,OAAIb,EAAUa,EAAMC,OAAOrE,UA2DvDH,EAAAC,EAAAC,cAAA,qBACAF,EAAAC,EAAAC,cAACuE,EAAD,CACElE,iBA/DmB,SAAAgE,GAAK,OAAInB,EAAWmB,EAAMC,OAAOrE,QAgEpDG,aA7De,SAAAiE,GAEnB,GADAA,EAAMG,iBACFpD,EAAQqD,KAAK,SAAA5D,GAAM,OAAIA,EAAOE,KAAKkD,sBAAwB1D,EAAQ0D,uBACrE,GAAGS,OAAOC,QAAP,GAAAvC,OAAkB7B,EAAlB,6CAAsE,CACvE,IAAMqE,EAAgBxD,EAAQyD,KAAK,SAAAC,GAAC,OAAIA,EAAE/D,KAAKkD,sBAAwB1D,EAAQ0D,sBAC/EH,EACUc,EAAc1D,GADxB2B,OAAAkC,EAAA,EAAAlC,CAAA,GACgC+B,EADhC,CAC+C5D,OAAQR,KACpDsB,KAAK,SAAAC,GACJgB,EAAW3B,EAAQC,IAAI,SAAAR,GAAM,OAAIA,EAAOK,KAAO0D,EAAc1D,GAAKL,EAASkB,KAC3EmB,EAAW,IACXG,EAAY,IACZO,EAAe,GAAAxB,OAAIL,EAAIhB,KAAR,6BAAAqB,OAAwCL,EAAIf,OAA5C,MACfgE,WAAW,kBAAMpB,EAAgB,KAAK,aAM5CE,EADkB,CAAC/C,KAAMR,EAASS,OAAQR,IAGvCsB,KAAK,SAACC,GACLgB,EAAW3B,EAAQgB,OAAOL,IAC1BmB,EAAW,IACXG,EAAY,IACZO,EAAe,GAAAxB,OAAIL,EAAIhB,KAAR,qBAAAqB,OAAgCL,EAAIf,OAApC,iCACfgE,WAAW,kBAAMpB,EAAgB,KAAK,QAqCxCtD,kBAhEoB,SAAA+D,GAAK,OAAIhB,EAAYgB,EAAMC,OAAOrE,QAiEtDM,QAASA,EAASC,SAAUA,IAE9BV,EAAAC,EAAAC,cAAA,qBACAF,EAAAC,EAAAC,cAACiF,EAAD,CAAS7D,QAAS4C,EAAiBlD,aArClB,SAAAI,GACnB4C,EACU5C,GACPY,KAAK,SAACC,GACc,MAAfA,EAAImD,SAENpB,IAEGhC,KAAK,SAAAiC,GAAO,OAAIhB,EAAWgB,KAC9BH,EAAe,kBAAAxB,OAAmBlB,EAAnB,0CACf8D,WAAW,kBAAMpB,EAAgB,KAAK,QAGzCuB,MAAM,SAAApD,GAEL+B,IAEChC,KAAK,SAAAiC,GAAO,OAAIhB,EAAWgB,KAC9BH,EAAe,kBAAAxB,OAAmBlB,EAAnB,6CACf8D,WAAW,kBAAMpB,EAAgB,KAAK,YCpE5CwB,IAASC,OAAOvF,EAAAC,EAAAC,cAACsF,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.53d97e23.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({filter, handleFilterChange}) => {\n    return (\n        <input value={filter} onChange={handleFilterChange}/>\n    );\n};\n\nexport default Filter;","import React from 'react';\n\nconst PersonForm = ({handleSubmit, handleNameChange, handlePhoneChange, newName, newPhone}) => {\n    return (\n        <form onSubmit={handleSubmit}>\n        <div>\n          name: <input onChange={handleNameChange} value={newName} placeholder=\"Person Name\"/>\n        </div>\n        <div>\n          phone: <input onChange={handlePhoneChange} value={newPhone} placeholder=\"Phone Number\"/>\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    );\n};\n\nexport default PersonForm;","import React from 'react';\n\nconst Number = ({person, handleDelete}) => {\n    return (\n        <div>\n            {person.name}: {person.number} <button onClick={() => handleDelete(person.id)}>Delete</button>\n        </div>\n    );\n};\n\nexport default Number;","import React from 'react';\nimport Number from './Number';\n\nconst Numbers = ({persons, handleDelete}) => {\n    return (\n        persons.map(person => <Number person={person} key={person.id} handleDelete={handleDelete}/>)\n    );\n};\n\nexport default Numbers;","import axios from 'axios';\nconst baseURL = (process.env.host || 'http://localhost:3001') + '/api/persons';\n\nconst getAll = () => {\n    const request = axios.get(baseURL);\n    return request.then(res => res.data);\n}\n\nconst create = newNumber => {\n    const request = axios.post(baseURL, newNumber);\n    return request.then(res => res.data);\n}\n\nconst update = (id, newNumber) => {\n    const request = axios.put(`${baseURL}/${id}`, newNumber);\n    return request.then(res => res.data);\n}\n\nconst remove = id => {\n    const request = axios.delete(`${baseURL}/${id}`);\n    return request.then(res => res);\n}\n\nexport default {\n    getAll,\n    create,\n    update,\n    remove\n}\n","import React from 'react';\nimport './Notification.css';\n\nconst Notification = ({message}) => {\n    if(!message)\n        return null\n    return (\n        <div className=\"notification\">\n            {message}\n        </div>\n    );\n};\n\nexport default Notification;","import React, { useState, useEffect} from 'react';\nimport Filter from './Filter';\nimport PersonForm from './PersonForm';\nimport Numbers from './Numbers';\nimport NumbersService from './Services/Numbers';\nimport Notification from './Notification/Notification';\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newPhone, setNewPhone] = useState('');\n  const [filter, setFilter] = useState('');\n  const [notification, setNotification] = useState('');\n\n  useEffect( () => {\n    NumbersService\n      .getAll()\n      .then(numbers => setPersons(numbers));\n  }, []);\n\n  const filteredPersons = filter === '' ? persons :\n    persons.filter(person => person.name.toLocaleLowerCase().startsWith(filter.toLocaleLowerCase()));\n  const handleNameChange = event => setNewName(event.target.value);\n  const handlePhoneChange = event => setNewPhone(event.target.value);\n  const handleFilterChange = event => setFilter(event.target.value);\n  const handleSubmit = event => {\n    event.preventDefault();\n    if (persons.some(person => person.name.toLocaleLowerCase() === newName.toLocaleLowerCase())) {\n      if(window.confirm(`${newName} is already in the phonebook! Update it?`)) {\n        const updatedPerson = persons.find(p => p.name.toLocaleLowerCase() === newName.toLocaleLowerCase())\n        NumbersService\n          .update(updatedPerson.id, {...updatedPerson, number: newPhone})\n          .then(res => {\n            setPersons(persons.map(person => person.id !== updatedPerson.id ? person : res));\n            setNewName('');\n            setNewPhone('');\n            setNotification(`${res.name}'s number was changed to ${res.number}!`);\n            setTimeout(() => setNotification(''), 5000);\n          })\n      }\n    }\n    else {\n      const newPerson = {name: newName, number: newPhone};\n      NumbersService\n        .create(newPerson)\n        .then((res) => {\n          setPersons(persons.concat(res));\n          setNewName('');\n          setNewPhone('');\n          setNotification(`${res.name} with the number ${res.number} was added to the phonebook!`);\n          setTimeout(() => setNotification(''), 5000);\n        })\n    }\n  }\n  const handleDelete = id => {\n    NumbersService\n      .remove(id)\n      .then((res) => {\n        if (res.status === 200) {\n          // setPersons(persons.filter(person => person.id !== id));\n          NumbersService\n            .getAll()\n            .then(numbers => setPersons(numbers));\n          setNotification(`Person with id ${id} has been removed from the phonebook!`)\n          setTimeout(() => setNotification(''), 5000);\n        }\n      })\n      .catch(res => {\n        // console.log(res);\n        NumbersService\n        .getAll()\n        .then(numbers => setPersons(numbers));\n      setNotification(`Person with id ${id} was already removed from the phonebook!`)\n      setTimeout(() => setNotification(''), 5000);\n      })\n  }\n  return (\n    <div>\n      <Notification message={notification}/>\n      <h1>Phonebook</h1>\n\n      <Filter filter={filter} handleFilterChange={handleFilterChange} />\n\n      <h2>Add new</h2>\n      <PersonForm\n        handleNameChange={handleNameChange}\n        handleSubmit={handleSubmit}\n        handlePhoneChange={handlePhoneChange}\n        newName={newName} newPhone={newPhone}/>\n\n      <h2>Numbers</h2>\n      <Numbers persons={filteredPersons} handleDelete={handleDelete} />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}